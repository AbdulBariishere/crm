<style type="text/css">
    html { overflow-y: hidden; }
</style>
<div id="page-top">
    <!-- Navbar -->
    <header class="header">
        <h1 class="logo">
            <a href="tracknovateAdmin" style="text-decoration: none">TRACKNOVATE CRM</a>
        </h1>
        <ul class="main-nav">
            <li class="text-dark mr-3" style="font-size: 20px;">{{useremail}}</li>
            <li><div class="dropdown" style="visibility: hidden;">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <i class="fa fa-user-circle fa-2x"></i></a>
            <div class="dropdown-menu">
            <a href="#" class="dropdown-item">
            <i class="fa fa-user"></i> Profile
            </a>
            <a href="#" class="dropdown-item" ng-click="Logout()">
              <i class="fas fa-power-off" style="cursor: pointer; color: #581845;"></i> Logout
            </a>
            </div>
            </div>
            </li>
            <!-- <li>
                <button class="btn btn-link btn-sm text-dark order-1 order-sm-0" ng-click="myFunc()">
          <i class="fas fa-bars"></i>
        </li> -->
      </ul>
    </header>
    <!-- Navbar End -->
    <div id="wrapper" class="scroolallpage">
      <!-- Sidebar -->
      <div ng-show="showMe">
        <ul class="sidebar navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="tracknovateAdmin">
              <i class="fas fa-fw fa-tachometer-alt"></i>
              <br>
                <span class="sidebaruser">Dashboard</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="tracknovateAdduser">
                <i class="fas fa-user-plus"></i>
                <br>
                  <span class="sidebaruser">Add user</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="tracknovateusers">
                  <i class="fas fa-users"></i>
                  <br>
                    <span class="sidebaruser">All users</span>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="tracknovatereports">
                    <i class="fas fa-fw fa-file"></i>
                    <br>
                      <span class="sidebaruser">Reports</span>
                    </a>
                  </li>
                    <li class="nav-item">
                  <a class="nav-link" href="usersummary">
                   <i class="fas fa-user-clock"></i>
                    <br>
                      <span class="sidebaruser">User Summary</span>
                    </a>
                  </li>
                </ul>
                  <!-- Sidebar End-->
              </div>
              <div id="contents-wrapper">
                <div class="container-fluid">
                  <!-- Add user Example -->
                  <div class="card mb-1" style="">
                    <div class="card-header">
                      <div class="row">
                        <div class="col-lg-2 col-sm-2" style="color: #013188; font-size: 20px; font-weight: 400;">
                          <i class="fas fa-fw fa-file"></i>
                         Reports
                        </div>
                      </div>
                    </div>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-lg-3 col-md-3 col-12">
                          <div class="form-group">
                            <label for="fromDate">From Date</label>
                            <input type="text" ng-model="date" class="form-control border border-warning" placeholder="From Date" jqdatepicker />
                          </div>
                        </div>
                        <div class="col-lg-2 col-md-2 col-12">
                          <div class="form-group">
                            <label for="ToDate">To Date</label>
                            <input type="text" ng-model="date2" class="form-control border border-warning" placeholder="To Date" jqdatepicker2 />
                          </div>
                        </div>
                        <div class="col-lg-2 col-md-2 col-12">
                          <div class="form-group">
                            <label for="users">Users</label>
                            <select ng-model="user" ng-options="x.email for x in allusers" class="form-control border border-warning" >
                              <option value="">All Users</option>
                            </select>
                          </div>
                        </div>
                        <div class="col-lg-2 col-md-2 col-12">
                          <div class="form-group">
                            <button  ng-click="getreports(); gettotalleads(); shwobuttons()" class="button" >
                              <span style="color: black;">View Reports</span>
                            </button>
</div>
</div>
<div class="col-lg-2 col-md-2 col-12">
    <div class="form-group">
        <button ng-click="Export()" class="button">
                              <span>Download Reports</span>
                            </button>
    </div>
</div>
</div>
<div ng-show="showbutton">
    <div class="row" style="visibility: hidden;" id="visiblebutton">
        <div class="col-lg-3 col-sm-3"></div>
        <div class="col-lg-2 col-sm-2"></div>
        <div class="col-lg-2 col-sm-2"></div>
        <div class="col-lg-2 col-sm-2">
            <div class="form-group">
                <button ng-click="getcreated()" class="button">
                                <span style="color: black;">Created Lead:{{totalcreated}}</span>
                              </button>
            </div>
        </div>
        <div class="col-lg-2 col-sm-2">
            <div class="form-group">
                <button ng-click="getmodified()" class="button">
                                <span style="color: black;">Modified Lead:{{totalmodified}}</span>
                              </button>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12" ng-show="filter_data > 0">
        <div id="scrolltable">
            <table id="tblCustomers" class="table table-striped table-bordered table-hover sortable">
                <thead style="font-size: 11px;">
                    <tr>
                        <th>S.no</th>
                        <th>LeadOwner&nbsp;
                            <a ng-click="sort_with('owner');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>LeadNumber&nbsp;
                            <a ng-click="sort_with('number');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>Organisation&nbsp;
                            <a ng-click="sort_with('subject');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>ClientName&nbsp;
                            <a ng-click="sort_with('name');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>Address&nbsp;
                            <a ng-click="sort_with('address');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>City&nbsp;
                            <a ng-click="sort_with('city');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>State&nbsp;
                            <a ng-click="sort_with('state');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>Mobile&nbsp;
                            <a ng-click="sort_with('mobile');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>Status&nbsp;
                            <a ng-click="sort_with('status');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>Stage&nbsp;
                            <a ng-click="sort_with('stage');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>Created&nbsp;
                            <a ng-click="sort_with('createdDate');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>Modified&nbsp;
                            <a ng-click="sort_with('modifiedDate');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                        <th>NextAction&nbsp;
                            <a ng-click="sort_with('nextActionDate');">
                                      <i class="fa fa-sort"></i>
                                    </a>
                        </th>
                    </tr>
                </thead>
                <tbody style="font-size: 12px;">
                    <tr ng-repeat="data in searched = (file | filter:search | orderBy : base :reverse) | beginning_data:(current_grid-1)*data_limit | limitTo:data_limit">
                        <td>{{$index+1}}</td>
                        <td>{{data.owner}}</td>
                        <td>{{data.number}}</td>
                        <td>{{data.subject}}</td>
                        <td>{{data.name}}</td>
                        <td> {{data.address}}</td>
                        <td>{{data.city}}</td>
                        <td>{{data.state}}</td>
                        <td>{{data.mobile}}</td>
                        <td class="text-center">
                            <div ng-if="data.status == 'open'">
                                <img src="./img/open1.png" height="20px" width="50px;">
                            </div>
                            <div ng-if="data.status == 'close'|| data.status=='closewithoutsuccess' ||  data.status=='closewithsuccess' ">
                                <img src="./img/close1.png" height="20px" width="50px;">
                            </div>
                        </td>
                        <td>{{data.stage}}</td>
                        <td>{{data.createdDate}}</td>
                        <td>{{data.modifiedDate}}</td>
                        <td>{{data.nextActionDate}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="col-md-12" ng-show="filter_data == 0">
        <div class="col-md-12">
            <h4>No records found..</h4>
        </div>
    </div>
    <div class="col-md-12">
        <div class="col-md-6 pull-left">
            <h5>Showing {{ searched.length }} of {{ entire_user}} entries</h5>
        </div>
        <div class="col-md-6" ng-show="filter_data > 0">
            <div pagination="" page="current_grid" on-select-page="page_position(page)" boundary-links="true" total-items="filter_data" items-per-page="data_limit" class="pagination-small pull-right" previous-text="&laquo;" next-text="&raquo;" max-size="9"></div>
        </div>
    </div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>